<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="小码农,,,"><title>git使用入门 | 小贤的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/2.0.4/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">git使用入门</h1><a id="logo" href="/.">小贤的博客</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">git使用入门</h1><div class="post-meta">2018-09-28</div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#git简介"><span class="toc-number">1.</span> <span class="toc-text">git简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git安装"><span class="toc-number">2.</span> <span class="toc-text">git安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建本地库"><span class="toc-number">3.</span> <span class="toc-text">创建本地库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关联远程仓库"><span class="toc-number">4.</span> <span class="toc-text">关联远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git工作区和暂存区"><span class="toc-number">5.</span> <span class="toc-text">git工作区和暂存区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看状态"><span class="toc-number">6.</span> <span class="toc-text">查看状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#版本回退"><span class="toc-number">7.</span> <span class="toc-text">版本回退</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#远程版本库回退"><span class="toc-number">8.</span> <span class="toc-text">远程版本库回退</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分支管理"><span class="toc-number">9.</span> <span class="toc-text">分支管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-生成ssh-key"><span class="toc-number">10.</span> <span class="toc-text">git 生成ssh key</span></a></li></ol></div></div><div class="post-content"><h2 id="git简介"><a href="#git简介" class="headerlink" title="git简介"></a>git简介</h2><ul>
<li>分布式版本控制系统</li>
<li>特点：<ul>
<li>每个开发者的本地都有一份完整的版本库</li>
<li>开发者可以在不联网的情况下随时随地提交自己的代码到本地仓库</li>
<li>开发者可以在不同的分支上并行开发最后再合并</li>
<li>本地的仓库push到远程仓库（服务器仓库）后开发者可共享远程仓库代码</li>
</ul>
</li>
</ul>
<h2 id="git安装"><a href="#git安装" class="headerlink" title="git安装"></a>git安装</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137396287703354d8c6c01c904c7d9ff056ae23da865a000" target="_blank" rel="noopener">参考安装</a></li>
</ul>
<h2 id="创建本地库"><a href="#创建本地库" class="headerlink" title="创建本地库"></a>创建本地库</h2><ul>
<li><p>创建一个文件夹</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir  learngit</span><br></pre></td></tr></table></figure>
</li>
<li><p>进入文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd  learngit</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化一个git仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
</li>
<li><p>命令截图<img src="/2018/09/28/git使用入门/status.png" alt="仓库状态图"></p>
<ul>
<li>没有初始化一个git仓库前用git status查看会提示“not a git repository”是没有master标识的</li>
</ul>
</li>
</ul>
<h2 id="关联远程仓库"><a href="#关联远程仓库" class="headerlink" title="关联远程仓库"></a>关联远程仓库</h2><ul>
<li><p>进入本地的版本库主目录执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure>
<ul>
<li><img src="/2018/09/28/git使用入门/remoteStatus.png" alt="仓库状态图"><br>没有提示证明未关联远程仓库</li>
</ul>
</li>
<li><p>将本地库与远程库关联</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin [giturl]</span><br></pre></td></tr></table></figure>
</li>
<li><p>关联后本地仓库可以将本地的代码push到远程仓库或fetch远程仓库代码到本地实现和其他开发者交换代码</p>
<ul>
<li>关联后<br><img src="/2018/09/28/git使用入门/conectStatus.png" alt="关联后截图"></li>
</ul>
</li>
<li>从远程仓库克隆到本地也可以实现关联远程仓库<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone [giturl]</span><br><span class="line">git clone https://username:password@xxxxxx.git</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="git工作区和暂存区"><a href="#git工作区和暂存区" class="headerlink" title="git工作区和暂存区"></a>git工作区和暂存区</h2><ul>
<li>工作区（Working Directory）开发者本地可以看到的git目录</li>
<li>暂存区（Stage）可以理解为购物车，提交（commit）到本地仓库可以理解为付款</li>
<li>工作区暂存区关系<ul>
<li><img src="/2018/09/28/git使用入门/stage.jpg" alt="image"></li>
<li>第一步是用git add把修改文件或新增文件（未追踪）添加到暂存区；</li>
<li>第二步是用git commit提交暂存区内容到当前分支(HEAD指针指向的分支)。</li>
</ul>
</li>
</ul>
<h2 id="查看状态"><a href="#查看状态" class="headerlink" title="查看状态"></a>查看状态</h2><ul>
<li><p>查看工作区和暂存区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看修改内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff filename</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h2><ul>
<li><p>查看历史提交记录%h(提交对象的简单哈希值)%s（提交说明）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty=format:"%h %s" --graph</span><br></pre></td></tr></table></figure>
</li>
<li><p>回退到对应的提交节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard commit_id</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="远程版本库回退"><a href="#远程版本库回退" class="headerlink" title="远程版本库回退"></a>远程版本库回退</h2><ul>
<li>操作需慎重，因为远程仓库会影响到整个team</li>
<li><p>删除最后一次提交</p>
<p>1.使用revert历史记录出现放弃的提交记录</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git revert HEAD</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<p>2.使用reset历史记录中不会出现放弃的提交记录</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">git push origin master -f</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><ul>
<li><p>查看本地当前分支</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看远程库分支</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch –r</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建分支</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch branchname</span><br></pre></td></tr></table></figure>
</li>
<li><p>切换分支</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout branchname</span><br></pre></td></tr></table></figure>
</li>
<li><p>合并分支</p>
<ul>
<li><p>查看分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
</li>
<li><p>合并分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge branch-name</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>删除本地分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d branch-name</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除远程分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -r -d origin/branch-name</span><br><span class="line">git push origin :branch-name</span><br></pre></td></tr></table></figure>
</li>
<li><p>批量删除分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch |grep 'branchName' |xargs git branch -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决合并冲突 </p>
<ul>
<li>执行合并<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge feature1</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>查看未合并的冲突文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据提示找到未自动合并的文件（unmerged）进行冲突处理</p>
</li>
<li>解决冲突后通过下面的命令来标记文件已解决（添加到暂存区）<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add unmergedfile</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<pre><code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m "merge detail"</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><p>分支策略</p>
<ul>
<li>master稳定的，仅用来发布新版本</li>
<li>develop分支干活</li>
<li>开发人员从develop分支再新开分支干活，完成后再merge回develop分支</li>
</ul>
</li>
<li><p>多人协作</p>
<ul>
<li><p>当需要和其他开发者交换代码时，推送（push）代码到远程仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin branch-name</span><br></pre></td></tr></table></figure>
</li>
<li><p>推送失败的话证明远程分支比本地更新，需要先拉取（pull) </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin branch-name</span><br></pre></td></tr></table></figure>
<p>如果合并有冲突，则解决冲突，并在本地提交。再推送</p>
</li>
<li><p>推送失败还可以先获取（fetch），再对比分支不同，再合并（merge）,建议使用因为它比pull更安全</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin branch-name</span><br><span class="line">git diff branch-name</span><br><span class="line">git merge branch-name</span><br></pre></td></tr></table></figure>
</li>
<li><p>清除本地与git origin没对应的分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch -p</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="git-生成ssh-key"><a href="#git-生成ssh-key" class="headerlink" title="git 生成ssh key"></a>git 生成ssh key</h2><ul>
<li><p>生成RSA key 过程 </p>
<ul>
<li><p>在指定的用户目录下，右键打开git bash 执行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-agent bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>生成RSA密钥，执行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C jsonlisky@gmail.com</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</div><div class="tags"><a href="/tags/工具/"><i class="fa fa-tag"></i>工具</a></div><div class="post-nav"><a class="pre" href="/2018/11/04/rabbitmq延迟队列的实践/">rabbitmq延迟队列的实践</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/rabbitmq/" style="font-size: 15px;">rabbitmq</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/04/29/mysql备份/">mysql复制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/20/lua+kafka+nginx采集nginx日志/">lua+kafka+nginx采集nginx日志</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/04/rabbitmq延迟队列的实践/">rabbitmq延迟队列的实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/28/git使用入门/">git使用入门</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">小贤的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>